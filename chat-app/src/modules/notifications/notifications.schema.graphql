#import './common.schema.graphql'
#import './users.schema.graphql'

type Notification implements Node {
    id: ID!
    type: NotificationType!
    sender: User
    message: String!
    read: Boolean!
    createdAt: DateTime!
}

enum NotificationType {
    NEW_MESSAGE
    CONVERSATION_INVITE
    SYSTEM_ALERT
}

extend type Query {
    myNotifications(unreadOnly: Boolean = true): [Notification!]!
}

extend type Mutation {
    markNotificationAsRead(id: ID!): Notification!
    markAllNotificationsAsRead: Boolean!
}

extend type Subscription {
    newNotification: Notification!
}